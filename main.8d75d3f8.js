import"./companyPanel.6c804396.js";const C=document.createElement("div");C.className="company-adress-login";const O=document.createElement("h2");O.className="company-adress-title";O.innerText="Adres pocztowy firmy";const R=document.createElement("div");R.className="company-adress-place";const X=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],Y=(e,t,s,l)=>{const n=[];return X.forEach(c=>{const m=document.createElement("div");let a=document.createElement("input");m.className="company-adress-data",a.className="input",a.type="text",a.name=c.name,a.id=c.id,a.placeholder=c.placeholder,a.setAttribute("required","");let k=!1;l!==null&&l.addEventListener("change",()=>{l.checked&&k==!1?(a.classList.remove("red-input"),a.classList.remove("red-placeholder"),a.removeAttribute("placeholder"),a!==void 0&&t(a,!1,c.placeholder)):l.checked&&k==!0}),e.addEventListener("click",x=>{x.preventDefault();let f="";if(a!==void 0)switch(a.id){case"street":f="Podaj nazwę ulicy";break;case"home":f="Podaj numer domu";break;case"city":f="Podaj nazwę miasta";break;case"code":f="Podaj kod pocztowy";break}a!==void 0&&(a.value===""?t(a,!0,f):t(a,!1)),!/^\d{2}-\d{3}$/.test(a.value)&&a.id==="code"&&t(a,!0,"Podaj kod pocztowy")}),m.appendChild(a),R.appendChild(m),(a.id==="home"||a.id==="code")&&a.addEventListener("input",s),n.push(a)}),{inputs:n}};C.append(O,R);const L=document.querySelector("#user"),h=document.querySelector("#company"),b=document.querySelector("#name"),S=document.querySelector("#surname"),w=document.querySelector("#phone"),v=document.querySelector(".email-customer"),p=document.querySelector("#password"),z=document.querySelector("#repeat"),y=document.querySelector("#register"),T=document.querySelector("#terms"),I=document.querySelector(".register-terms"),u=document.createElement("p");u.classList.add("terms-error");const _=()=>{T.checked||(u.innerHTML="Musisz zaakceptować regulamin",I.appendChild(u))},o=document.createElement("select"),ee=()=>{const e=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];o.id="services",o.name="services",o.className="input";const t=o,s=[];return e.forEach(l=>{const n=document.createElement("option");n.value=l.value,n.innerText=l.label,n.id=l.id,o.appendChild(n),n.value==="default"&&(n.disabled=!0),s.push(n)}),[s,t]},G=e=>{const t=e.target;t instanceof HTMLSelectElement?t.classList.remove("red-input"):/^\d{2}-\d{3}$/.test(t.value)?(M(t),t.value=t.value.replace(/[^\d\W]/g,"")):(M(t),t.value=t.value.replace(/[^\d-]/g,""))},r=(e,t,s)=>{t?(e.setAttribute("placeholder",s??"Musisz podać jakąś wartość"),e.classList.add("red-input"),e.classList.add("red-placeholder")):e.id==="street"||e.id==="home"||e.id==="code"||e.id==="city"?(e.setAttribute("placeholder",s??"Musisz podać wartość"),e.classList.remove("red-input"),e.classList.remove("red-placeholder")):(e.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"))},M=e=>{r(e,!1)},$=document.querySelector(".basic-info"),g=document.createElement("div");g.className="basic-info-company";const D=document.createElement("div");D.className="basic-info-data";const H=document.createElement("div");H.className="basic-info-data";const N=document.querySelector(".basic-info-contact"),q=document.querySelector(".email-customer-data"),B=document.createElement("label");B.htmlFor="company-name";B.innerText="Nazwa firmy";const d=document.createElement("input");d.className="input";d.id="company-name";d.name="company-name";d.type="text";const F=document.createElement("label");F.htmlFor="services";F.innerText="Świadczone usługi";const te=()=>{const e=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;b.value===""&&r(b,!0,"Podaj imię"),S.value===""&&r(S,!0,"Podaj nazwisko"),e.test(w.value)||r(w,!0,"Podaj numer telefonu"),t.test(i.value)||r(i,!0,"Podaj adres e-mail"),t.test(v.value)||r(v,!0,"Podaj adres e-mail"),p.value.length<8&&r(p,!0,"Hasło musi zawierać min. 8 znaków"),z.value!==p.value&&r(z,!0,"Hasła muszą być takie same"),d.value===""&&r(d,!0,"Podaj nazwę firmy"),o.value==="default"&&o.classList.add("red-input"),_()},i=document.createElement("input"),J=document.createElement("label");J.textContent="E-mail";const E=document.createElement("div");E.classList.add("basic-info-data");E.classList.add("email-company-data");const Q=[b,S,w,v,p,z,o,d,i],K=(e,t)=>{Q.forEach(s=>{s.classList.remove("red-input"),s.classList.remove("red-placeholder"),s.removeAttribute("placeholder")}),e.contains(t)&&e.removeChild(t)};let j=!1;const ae=()=>{h.checked&&j===!1?(j=!0,v.remove(),q.remove(),i.id="email-company",i.type="text",i.classList.add("input"),E.append(J,i),N.append(E),D.append(B,d),H.append(F,o),g.append(D,H),$.append(g,C),K(I,u)):L.checked&&(j=!1,i.remove(),E.remove(),q.append(v),N.append(q),$.append(N),g.remove(),C.remove(),K(I,u))},P=e=>{const t=e.target;e.type==="input"?(t.matches("#name, #surname, #number, #email, #email-company, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&t instanceof HTMLInputElement&&M(t),t.matches("#services")&&G(e)):e.type==="change"?t.matches("#company, #user")?ae():t.matches("#terms")&&I.contains(u)&&I.removeChild(u):e.type==="keypress"&&t.matches("#phone")&&isNaN(parseInt(e.key))&&e.preventDefault()},A=Y(y,r,G,h),U=A.inputs[0],V=A.inputs[1],W=A.inputs[2],Z=A.inputs[3];document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",P),document.addEventListener("change",P),document.addEventListener("keypress",P),ee(),y!==null&&(y.addEventListener("click",te),y.addEventListener("click",()=>{const n=document.getElementById("services");if(n!==null){const c=n.options[n.selectedIndex].value;localStorage.setItem("selectedOption",c);const m=n.options[n.selectedIndex].textContent;localStorage.setItem("selectedOptionText",m)}localStorage.setItem("name",b.value),localStorage.getItem("selectedOptionText"),localStorage.setItem("companyStreet",U.value),localStorage.setItem("companyHome",V.value),localStorage.setItem("companyCity",W.value),localStorage.setItem("companyCode",Z.value),localStorage.setItem("customerEmail",v.value),localStorage.setItem("companyEmail",i.value),localStorage.setItem("registerPassword",p.value)}));const e=[U,V,W,Z],s=[b,S,w,p,z,o,d,i].concat(e);function l(){h.checked&&s.every(c=>!c.classList.contains("red-input"))&&!d.classList.contains("red-input")&&!o.classList.contains("red-input")&&T.checked&&window.location.assign("./company-panel.html");const n=Q.slice(0,6);L.checked&&n.every(c=>!c.classList.contains("red-input"))&&T.checked&&(console.log("przenosze do customer"),window.location.assign("./customer-panel.html"))}if(y.addEventListener("click",l),L!==null&&h!==null){let n=function(m,a){a.forEach((k,x)=>{k.checked=x===m})};const c=[L,h];n(0,c),c.forEach((m,a)=>{m.addEventListener("click",function(){n(a,c)})})}});
