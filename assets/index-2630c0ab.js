(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();const x=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],f=document.createElement("div");f.className="company-adress";const I=document.createElement("h2");I.className="company-adress-title";I.innerText="Adres pocztowy firmy";const w=document.createElement("div");w.className="company-adress-place";const M=(e,t,o,l)=>{x.forEach(a=>{const s=document.createElement("div");s.className="company-adress-data";let c=document.createElement("input");c.className="input",c.type="text",c.name=a.name,c.id=a.id,c.placeholder=a.placeholder,l.addEventListener("change",()=>{l.checked&&t(c,!1,a.placeholder)}),e.addEventListener("click",()=>{let m="";switch(c.id){case"street":m="Podaj nazwę ulicy";break;case"home":m="Podaj numer domu";break;case"city":m="Podaj nazwę miasta";break;case"code":m="Podaj kod pocztowy";break}c.value===""?t(c,!0,m):t(c,!1)}),s.appendChild(c),w.appendChild(s),(c.id==="home"||c.id==="code")&&c.addEventListener("input",o)})};f.append(I,w);const O=document.getElementById("form");O.addEventListener("submit",function(e){e.preventDefault();const t=Array.from(document.querySelectorAll("#services option:checked")).map(s=>s.getAttribute("value")),o=new URLSearchParams;o.set("services",t.join(","));const l={method:"GET",mode:"cors"},a=`http://srv17.mikr.us:20193/reservo/professions?${o.toString()}`;fetch(a,l).then(s=>s.text()).then(s=>console.log(s)).catch(s=>console.log(s))});const P=document.querySelector("#user"),z=document.querySelector("#company"),y=document.querySelector("#name"),v=document.querySelector("#surname"),E=document.querySelector("#phone"),b=document.querySelector("#email"),u=document.querySelector("#password"),L=document.querySelector("#repeat"),j=document.querySelector("#register"),H=document.querySelector("#terms"),h=document.querySelector(".register-terms"),d=document.createElement("p");d.classList.add("terms-error");const D=()=>{H.checked||(d.innerHTML="Musisz zaakceptować regulamin",h.appendChild(d))},q=[P,z];function F(){q.forEach(e=>{e!==this?e.checked=!1:e.checked=!0})}q.forEach(e=>{e.addEventListener("click",function(){F.call(this)})});const B=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}],r=document.createElement("select");r.id="services";r.name="services";r.className="input";B.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.innerText=e.label,t.id=e.id,r.appendChild(t),t.value==="default"&&(t.disabled=!0)});const C=e=>{const t=e.target;t instanceof HTMLSelectElement?t.classList.remove("red-input"):(T(t),t.value=t.value.replace(/[^\d\W]/g,""))},n=(e,t,o)=>{t?(e.setAttribute("placeholder",o??"Musisz podać jakąś wartość"),e.classList.add("red-input"),e.classList.add("red-placeholder")):e.id==="street"||e.id==="home"||e.id==="code"||e.id==="city"?(e.setAttribute("placeholder",o??"Musisz podać wartość"),e.classList.remove("red-input"),e.classList.remove("red-placeholder")):(e.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"))},T=e=>{n(e,!1)},R=document.querySelector(".basic-info"),p=document.createElement("div");p.className="basic-info-company";const g=document.createElement("div");g.className="basic-info-data";const k=document.createElement("div");k.className="basic-info-data";const A=document.createElement("label");A.htmlFor="company-name";A.innerText="Nazwa firmy";const i=document.createElement("input");i.className="input";i.id="company-name";i.name="company-name";i.type="text";const N=document.createElement("label");N.htmlFor="services";N.innerText="Świadczone usługi";const K=()=>{const e=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;y.value===""&&n(y,!0,"Podaj imię"),v.value===""&&n(v,!0,"Podaj nazwisko"),e.test(E.value)||n(E,!0,"Podaj numer telefonu"),t.test(b.value)||n(b,!0,"Podaj adres e-mail"),u.value.length<8&&n(u,!0,"Hasło musi zawierać min. 8 znaków"),L.value!==u.value&&n(L,!0,"Hasła muszą być takie same"),i.value===""&&n(i,!0,"Podaj nazwę firmy"),r.value==="default"&&r.classList.add("red-input"),D()};M(j,n,C,z);const U=[y,v,E,b,u,L,i,r],$=(e,t)=>{U.forEach(o=>{o.classList.remove("red-input"),o.classList.remove("red-placeholder"),o.removeAttribute("placeholder")}),e.contains(t)&&e.removeChild(t)},W=()=>{z.checked?(g.append(A,i),k.append(N,r),p.append(g,k),R.append(p,f),$(h,d)):P.checked&&(p.remove(),f.remove())},S=e=>{const t=e.target;e.type==="input"?(t.matches("#name, #surname, #number, #email, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&t instanceof HTMLInputElement&&T(t),t.matches("#services")&&(console.log("jest services2"),C(e))):e.type==="change"?t.matches("#company, #user")?W():t.matches("#terms")&&(console.log("jest terms"),h.contains(d)&&h.removeChild(d)):e.type==="keypress"&&t.matches("#phone")&&isNaN(parseInt(e.key))&&e.preventDefault()};document.addEventListener("input",S);document.addEventListener("change",S);document.addEventListener("keypress",S);j.addEventListener("click",K);
