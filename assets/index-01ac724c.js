(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();const x=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],A=document.createElement("div");A.className="company-adress";const N=document.createElement("h2");N.className="company-adress-title";N.innerText="Adres pocztowy firmy";const w=document.createElement("div");w.className="company-adress-place";let b;const $=(t,o,a,l)=>{b={},x.forEach(e=>{const s=document.createElement("div");s.className="company-adress-data";const r=document.createElement("input");r.className="input",r.type="text",r.name=e.name,r.id=e.id,r.placeholder=e.placeholder,b[e.name]={},r.addEventListener("input",c=>{const E=c.target;b[e.name]=r.value,a(E)}),t.addEventListener("click",()=>{let c="";switch(r.id){case"street":c="Podaj nazwę ulicy";break;case"home":c="Podaj numer domu";break;case"city":c="Podaj nazwę miasta";break;case"code":c="Podaj kod pocztowy";break}r.value===""?o(r,!0,c):o(r,!1)}),s.appendChild(r),w.appendChild(s),(r.id==="home"||r.id==="code")&&r.addEventListener("input",l)})};A.append(N,w);const J=(t,o,a,l,e,s,r,c,E,I,T)=>{const B=document.querySelector("#street"),K=document.querySelector("#city"),R=document.querySelector("#home"),U=document.querySelector("#code"),W=[B,K,R,U];o.classList.remove("red-input"),o.classList.remove("red-placeholder"),o.removeAttribute("placeholder"),a.classList.remove("red-input"),a.classList.remove("red-placeholder"),a.removeAttribute("placeholder"),l.classList.remove("red-input"),l.classList.remove("red-placeholder"),l.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"),e.removeAttribute("placeholder"),s.classList.remove("red-input"),s.classList.remove("red-placeholder"),s.removeAttribute("placeholder"),r.classList.remove("red-input"),r.classList.remove("red-placeholder"),r.removeAttribute("placeholder"),c.classList.remove("red-input"),c.classList.remove("red-placeholder"),c.removeAttribute("placeholder"),E.classList.remove("red-input"),E.classList.remove("red-placeholder"),E.removeAttribute("placeholder"),I.contains(T)&&I.removeChild(T),W.forEach((g,Z)=>{g.classList.contains("red-input")&&(g.classList.remove("red-input"),g.classList.remove("red-placeholder"),g.placeholder=t[Z].placeholder)})};console.log("zeroo");const P=document.createElement("label");P.htmlFor="company-name";P.innerText="Nazwa firmy";const n=document.createElement("input");n.className="input";n.id="company-name";n.name="company-name";n.type="text";document.querySelector("#street");document.querySelector("#home");document.querySelector("#city");document.querySelector("#code");const V=document.getElementById("form"),O=document.querySelector("#user"),C=document.querySelector("#company"),v=document.querySelector("#name"),h=document.querySelector("#surname"),p=document.querySelector("#phone"),f=document.querySelector("#email"),m=document.querySelector("#password"),y=document.querySelector("#repeat");V.addEventListener("submit",function(t){t.preventDefault();const o=Array.from(document.querySelectorAll("#services option:checked")).map(e=>e.getAttribute("value"));console.log(b),console.log("jeden");const a={name:v.value,surname:h.value,email:f.value,number:p.value,services:o,companyName:n.value,adress:b,password:m.value,repeatPassword:y.value};console.log("dwa");const l={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};console.log("trzy"),fetch("http://srv17.mikr.us:20193/reservo/professions",l).then(e=>e.json()).then(e=>console.log(e)).catch(e=>console.log(e)),console.log("cztery")});const M=document.querySelector("#terms"),k=document.querySelector(".register-terms"),D=document.querySelector("#register"),G=document.querySelector(".basic-info"),L=document.createElement("p");L.classList.add("terms-error");const Q=()=>{M.checked||(L.innerHTML="Musisz zaakceptować regulamin",k.appendChild(L))},F=[O,C];function X(){F.forEach(t=>{t!==this?t.checked=!1:t.checked=!0})}F.forEach(t=>{t.addEventListener("click",function(){X.call(this)})});const S=document.createElement("div");S.className="basic-info-company";const q=document.createElement("div");q.className="basic-info-data";const z=document.createElement("div");z.className="basic-info-data";const j=document.createElement("label");j.htmlFor="services";j.innerText="Świadczone usługi";const Y=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}],i=document.createElement("select");i.id="services";i.name="services";i.className="input";Y.forEach(t=>{const o=document.createElement("option");o.value=t.value,o.innerText=t.label,o.id=t.id,i.appendChild(o),o.value==="default"&&(o.disabled=!0)});const H=t=>{const o=t.target;o instanceof HTMLSelectElement?o.classList.remove("red-input"):(u(o),o.value=o.value.replace(/[^\d\W]/g,""))},d=(t,o,a)=>{o?(t.setAttribute("placeholder",a??"Musisz podać jakąś wartość"),t.classList.add("red-input"),t.classList.add("red-placeholder")):(t.removeAttribute("placeholder"),t.classList.remove("red-input"),t.classList.remove("red-placeholder"))},u=t=>{d(t,!1)},_=()=>{C.checked?(q.append(P,n),z.append(j,i),S.append(q,z),G.append(S,A),J(x,v,h,p,f,m,y,n,i,k,L)):O.checked&&(S.remove(),A.remove())};$(D,d,u,H);const ee=()=>{const t=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;v.value===""&&d(v,!0,"Podaj imię"),h.value===""&&d(h,!0,"Podaj nazwisko"),t.test(p.value)||d(p,!0,"Podaj numer telefonu"),o.test(f.value)||d(f,!0,"Podaj adres e-mail"),m.value.length<8&&d(m,!0,"Hasło musi zawierać min. 8 znaków"),y.value!==m.value&&d(y,!0,"Hasła muszą być takie same"),n.value===""&&d(n,!0,"Podaj nazwę firmy"),i.value==="default"&&i.classList.add("red-input"),Q()};C.addEventListener("change",_);M.addEventListener("change",function(){k.contains(L)&&k.removeChild(L)});v.addEventListener("input",()=>u(v));h.addEventListener("input",()=>u(h));p.addEventListener("input",()=>u(p));p.addEventListener("keypress",function(t){isNaN(parseInt(t.key))&&t.preventDefault()});f.addEventListener("input",()=>u(f));n.addEventListener("input",()=>u(n));i.addEventListener("input",H);m.addEventListener("input",()=>u(m));y.addEventListener("input",()=>u(y));D.addEventListener("click",ee);
