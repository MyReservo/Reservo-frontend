(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const j=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],g=document.createElement("div");g.className="company-adress";const A=document.createElement("h2");A.className="company-adress-title";A.innerText="Adres pocztowy firmy";const z=document.createElement("div");z.className="company-adress-place";let S;const H=(e,t,o,u)=>{S={},j.forEach(n=>{const r=document.createElement("div");r.className="company-adress-data";const s=document.createElement("input");s.className="input",s.type="text",s.name=n.name,s.id=n.id,s.placeholder=n.placeholder,S[n.name]={},s.addEventListener("input",m=>{const c=m.target;S[n.name]=s.value,o(c)}),e.addEventListener("click",()=>{let m="";switch(s.id){case"street":m="Podaj nazwę ulicy";break;case"home":m="Podaj numer domu";break;case"city":m="Podaj nazwę miasta";break;case"code":m="Podaj kod pocztowy";break}s.value===""?t(s,!0,m):t(s,!1)}),r.appendChild(s),z.appendChild(r),(s.id==="home"||s.id==="code")&&s.addEventListener("input",u)})};g.append(A,z);const N=document.createElement("label");N.htmlFor="company-name";N.innerText="Nazwa firmy";const a=document.createElement("input");a.className="input";a.id="company-name";a.name="company-name";a.type="text";const i=document.createElement("select");i.id="services";i.name="services";i.className="input";document.querySelector("#street");document.querySelector("#home");document.querySelector("#city");document.querySelector("#code");const B=document.getElementById("form"),w=document.querySelector("#user"),P=document.querySelector("#company"),v=document.querySelector("#name"),y=document.querySelector("#surname"),f=document.querySelector("#phone"),E=document.querySelector("#email"),p=document.querySelector("#password"),L=document.querySelector("#repeat"),R=[v,y,f,E,p,L,a,i],K=(e,t,o)=>{const u=document.querySelector("#street"),n=document.querySelector("#city"),r=document.querySelector("#home"),s=document.querySelector("#code");[u,n,r,s].forEach((c,F)=>{c.classList.contains("red-input")&&(c.classList.remove("red-input"),c.classList.remove("red-placeholder"),c.placeholder=e[F].placeholder)}),R.forEach(c=>{c.classList.remove("red-input"),c.classList.remove("red-placeholder"),c.removeAttribute("placeholder")}),t.contains(o)&&t.removeChild(o)};B.addEventListener("submit",function(e){e.preventDefault();const t=Array.from(document.querySelectorAll("#services option:checked")).map(r=>r.getAttribute("value")),o=new URLSearchParams;o.set("services",t.join(","));const u={method:"GET",mode:"cors"},n=`http://srv17.mikr.us:20193/reservo/professions?${o.toString()}`;fetch(n,u).then(r=>r.text()).then(r=>console.log(r)).catch(r=>console.log(r))});fetch("http://srv17.mikr.us:20193/reservo/professions").then(e=>e.json()).then(e=>console.log(e));const x=document.querySelector("#terms"),I=document.querySelector(".register-terms"),T=document.querySelector("#register"),U=document.querySelector(".basic-info"),h=document.createElement("p");h.classList.add("terms-error");const $=()=>{x.checked||(h.innerHTML="Musisz zaakceptować regulamin",I.appendChild(h))},M=[w,P];function W(){M.forEach(e=>{e!==this?e.checked=!1:e.checked=!0})}M.forEach(e=>{e.addEventListener("click",function(){W.call(this)})});const b=document.createElement("div");b.className="basic-info-company";const k=document.createElement("div");k.className="basic-info-data";const q=document.createElement("div");q.className="basic-info-data";const C=document.createElement("label");C.htmlFor="services";C.innerText="Świadczone usługi";const Z=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];Z.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.innerText=e.label,t.id=e.id,i.appendChild(t),t.value==="default"&&(t.disabled=!0)});const O=e=>{const t=e.target;t instanceof HTMLSelectElement?t.classList.remove("red-input"):(l(t),t.value=t.value.replace(/[^\d\W]/g,""))},d=(e,t,o)=>{t?(e.setAttribute("placeholder",o??"Musisz podać jakąś wartość"),e.classList.add("red-input"),e.classList.add("red-placeholder")):(e.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"))},l=e=>{d(e,!1)},D=()=>{P.checked?(k.append(N,a),q.append(C,i),b.append(k,q),U.append(b,g),K(j,I,h)):w.checked&&(b.remove(),g.remove())};H(T,d,l,O);const G=()=>{const e=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;v.value===""&&d(v,!0,"Podaj imię"),y.value===""&&d(y,!0,"Podaj nazwisko"),e.test(f.value)||d(f,!0,"Podaj numer telefonu"),t.test(E.value)||d(E,!0,"Podaj adres e-mail"),p.value.length<8&&d(p,!0,"Hasło musi zawierać min. 8 znaków"),L.value!==p.value&&d(L,!0,"Hasła muszą być takie same"),a.value===""&&d(a,!0,"Podaj nazwę firmy"),i.value==="default"&&i.classList.add("red-input"),$()};P.addEventListener("change",D);w.addEventListener("change",D);x.addEventListener("change",function(){I.contains(h)&&I.removeChild(h)});v.addEventListener("input",()=>l(v));y.addEventListener("input",()=>l(y));f.addEventListener("input",()=>l(f));f.addEventListener("keypress",function(e){isNaN(parseInt(e.key))&&e.preventDefault()});E.addEventListener("input",()=>l(E));a.addEventListener("input",()=>l(a));i.addEventListener("input",O);p.addEventListener("input",()=>l(p));L.addEventListener("input",()=>l(L));T.addEventListener("click",G);
