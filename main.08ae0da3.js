import{t as r}from"./companyPanel.70ad4252.js";const C=document.createElement("div");C.className="company-adress-login";const O=document.createElement("h2");O.className="company-adress-title";O.innerText="Adres pocztowy firmy";const R=document.createElement("div");R.className="company-adress-place";const X=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],Y=(a,e,s,l)=>{const n=[];return X.forEach(c=>{const m=document.createElement("div");let t=document.createElement("input");m.className="company-adress-data",t.className="input",t.type="text",t.name=c.name,t.id=c.id,t.placeholder=c.placeholder,t.setAttribute("required","");let b=!1;l!==null&&l.addEventListener("change",()=>{l.checked&&b==!1?(t.classList.remove("red-input"),t.classList.remove("red-placeholder"),t.removeAttribute("placeholder"),t!==void 0&&e(t,!1,c.placeholder)):l.checked&&b==!0}),a&&a.addEventListener("click",A=>{A.preventDefault();let h="";if(t!==void 0)switch(t.id){case"street":h="Podaj nazwę ulicy";break;case"home":h="Podaj numer domu";break;case"city":h="Podaj nazwę miasta";break;case"code":h="Podaj kod pocztowy";break}t!==void 0&&(t.value===""?e(t,!0,h):e(t,!1)),!/^\d{2}-\d{3}$/.test(t.value)&&t.id==="code"&&e(t,!0,"Podaj kod pocztowy")}),m.appendChild(t),R.appendChild(m),(t.id==="home"||t.id==="code")&&t.addEventListener("input",s),n.push(t)}),{inputs:n}};C.append(O,R);const g=document.querySelector("#user"),v=document.querySelector("#company"),I=document.querySelector("#name"),S=document.querySelector("#surname"),w=document.querySelector("#phone"),y=document.querySelector(".email-customer"),f=document.querySelector("#password"),z=document.querySelector("#repeat"),p=document.querySelector("#register"),j=document.querySelector("#terms"),k=document.querySelector(".register-terms"),u=document.createElement("p");u.classList.add("terms-error");const _=()=>{j.checked||(u.innerHTML="Musisz zaakceptować regulamin",k.appendChild(u))},o=document.createElement("select"),ee=()=>{const a=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];o.id="services",o.name="services",o.className="input";const e=o,s=[];return a.forEach(l=>{const n=document.createElement("option");n.value=l.value,n.innerText=l.label,n.id=l.id,o.appendChild(n),n.value==="default"&&(n.disabled=!0),s.push(n)}),[s,e]},G=a=>{const e=a.target;e instanceof HTMLSelectElement?e.classList.remove("red-input"):/^\d{2}-\d{3}$/.test(e.value)?(D(e),e.value=e.value.replace(/[^\d\W]/g,"")):(D(e),e.value=e.value.replace(/[^\d-]/g,""))},D=a=>{r(a,!1)},B=document.querySelector(".basic-info"),L=document.createElement("div");L.className="basic-info-company";const M=document.createElement("div");M.className="basic-info-data";const H=document.createElement("div");H.className="basic-info-data";const N=document.querySelector(".basic-info-contact"),q=document.querySelector(".email-customer-data"),F=document.createElement("label");F.htmlFor="company-name";F.innerText="Nazwa firmy";const d=document.createElement("input");d.className="input";d.id="company-name";d.name="company-name";d.type="text";const $=document.createElement("label");$.htmlFor="services";$.innerText="Świadczone usługi";const te=()=>{const a=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;I.value===""&&r(I,!0,"Podaj imię"),S.value===""&&r(S,!0,"Podaj nazwisko"),a.test(w.value)||r(w,!0,"Podaj numer telefonu"),e.test(i.value)||r(i,!0,"Podaj adres e-mail"),e.test(y.value)||r(y,!0,"Podaj adres e-mail"),f.value.length<8&&r(f,!0,"Hasło musi zawierać min. 8 znaków"),z.value!==f.value&&r(z,!0,"Hasła muszą być takie same"),d.value===""&&r(d,!0,"Podaj nazwę firmy"),o.value==="default"&&o.classList.add("red-input"),_()},i=document.createElement("input"),J=document.createElement("label");J.textContent="E-mail";const E=document.createElement("div");E.classList.add("basic-info-data");E.classList.add("email-company-data");const Q=[I,S,w,y,f,z,o,d,i],K=(a,e)=>{Q.forEach(s=>{s.classList.remove("red-input"),s.classList.remove("red-placeholder"),s.removeAttribute("placeholder")}),a.contains(e)&&a.removeChild(e)};let P=!1;const ae=()=>{v.checked&&P===!1?(P=!0,y.remove(),q.remove(),i.id="email-company",i.type="text",i.classList.add("input"),E.append(J,i),N.append(E),M.append(F,d),H.append($,o),L.append(M,H),B.append(L,C),K(k,u)):g.checked&&(P=!1,i.remove(),E.remove(),q.append(y),N.append(q),B.append(N),L.remove(),C.remove(),K(k,u))},T=a=>{const e=a.target;a.type==="input"?(e.matches("#name, #surname, #number, #email, #email-company, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&e instanceof HTMLInputElement&&D(e),e.matches("#services")&&G(a)):a.type==="change"?e.matches("#company, #user")?ae():e.matches("#terms")&&k.contains(u)&&k.removeChild(u):a.type==="keypress"&&e.matches("#phone")&&isNaN(parseInt(a.key))&&a.preventDefault()},x=Y(p,r,G,v),U=x.inputs[0],V=x.inputs[1],W=x.inputs[2],Z=x.inputs[3];document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",T),document.addEventListener("change",T),document.addEventListener("keypress",T),ee(),p!==null&&(p.addEventListener("click",te),p.addEventListener("click",()=>{const n=document.getElementById("services");if(n!==null){const c=n.options[n.selectedIndex].value;localStorage.setItem("selectedOption",c);const m=n.options[n.selectedIndex].textContent;localStorage.setItem("selectedOptionText",m)}localStorage.setItem("name",I.value),localStorage.getItem("selectedOptionText"),v.checked&&(localStorage.setItem("companyCity",W.value),localStorage.setItem("companyStreet",U.value),localStorage.setItem("companyHome",V.value),localStorage.setItem("companyCode",Z.value),localStorage.setItem("companyEmail",i.value)),localStorage.setItem("customerEmail",y.value),localStorage.setItem("registerPassword",f.value)}));const a=[U,V,W,Z],s=[I,S,w,f,z,o,d,i].concat(a);function l(){v.checked&&s.every(c=>!c.classList.contains("red-input"))&&!d.classList.contains("red-input")&&!o.classList.contains("red-input")&&j.checked&&window.location.assign("./company-panel.html");const n=Q.slice(0,6);g.checked&&n.every(c=>!c.classList.contains("red-input"))&&j.checked&&(console.log("przenosze do customer"),window.location.assign("./customer-panel.html"))}if(p&&p.addEventListener("click",l),g!==null&&v!==null){let n=function(m,t){t.forEach((b,A)=>{b.checked=A===m})};const c=[g,v];n(0,c),c.forEach((m,t)=>{m.addEventListener("click",function(){n(t,c)})})}});
