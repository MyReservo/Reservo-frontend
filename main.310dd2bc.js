import{t as i,r as q}from"./companyPanel.1f82675d.js";import{n as M,p as I,s as k,a as H,c as d,e as g,b as E,r as O,d as m,f as l,t as F,g as u,h as L,i as R,j as ne}from"./customerPanel.a72f314b.js";const x=document.createElement("div");x.className="company-adress-login";const K=document.createElement("h2");K.className="company-adress-title";K.innerText="Adres pocztowy firmy";const U=document.createElement("div");U.className="company-adress-place";const se=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],ce=(n,e,c,o)=>{const a=[];return se.forEach(s=>{const r=document.createElement("div");let t=document.createElement("input");r.className="company-adress-data",t.className="input",t.type="text",t.name=s.name,t.id=s.id,t.placeholder=s.placeholder,t.setAttribute("required","");let C=!1;o!==null&&o.addEventListener("change",()=>{o.checked&&C==!1?(t.classList.remove("red-input"),t.classList.remove("red-placeholder"),t.removeAttribute("placeholder"),t!==void 0&&e(t,!1,s.placeholder)):o.checked&&C==!0}),n&&n.addEventListener("click",A=>{A.preventDefault();let f="";if(t!==void 0)switch(t.id){case"street":f="Podaj nazwę ulicy";break;case"home":f="Podaj numer domu";break;case"city":f="Podaj nazwę miasta";break;case"code":f="Podaj kod pocztowy";break}t!==void 0&&(t.value===""?e(t,!0,f):e(t,!1)),!/^\d{2}-\d{3}$/.test(t.value)&&t.id==="code"&&e(t,!0,"Podaj kod pocztowy")}),r.appendChild(t),U.appendChild(r),(t.id==="home"||t.id==="code")&&t.addEventListener("input",c),a.push(t)}),{inputs:a}};x.append(K,U);const oe=()=>{const n=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;M.value===""&&i(M,!0,"Podaj imię"),I.value===""&&i(I,!0,"Podaj imię"),k.value===""&&i(k,!0,"Podaj nazwisko"),n.test(H.value)||i(H,!0,"Podaj numer telefonu"),e.test(d.value)||i(d,!0,"Podaj adres e-mail"),e.test(g.value)||i(g,!0,"Podaj adres e-mail"),E.value.length<8&&i(E,!0,"Hasło musi zawierać min. 8 znaków"),O.value!==E.value&&i(O,!0,"Hasła muszą być takie same"),m.value===""&&i(m,!0,"Podaj nazwę firmy"),l.value==="default"&&l.classList.add("red-input"),ie()},ie=()=>{F.checked||(u.innerHTML="Musisz zaakceptować regulamin",L.appendChild(u))},G=(n,e)=>{R.forEach(c=>{c.classList.remove("red-input"),c.classList.remove("red-placeholder"),c.removeAttribute("placeholder")}),n.contains(e)&&n.removeChild(e)},h=document.querySelector("#user"),v=document.querySelector("#company"),p=document.querySelector("#register");u.classList.add("terms-error");const le=()=>{const n=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];l.id="services",l.name="services",l.className="input";const e=l,c=[];return n.forEach(o=>{const a=document.createElement("option");a.value=o.value,a.innerText=o.label,a.id=o.id,l.appendChild(a),a.value==="default"&&(a.disabled=!0),c.push(a)}),[c,e]},te=n=>{const e=n.target;e instanceof HTMLSelectElement?e.classList.remove("red-input"):/^\d{2}-\d{3}$/.test(e.value)?(q(e),e.value=e.value.replace(/[^\d\W]/g,"")):(q(e),e.value=e.value.replace(/[^\d-]/g,""))},J=document.querySelector(".basic-info"),j=document.querySelector(".basic-info-names"),w=document.createElement("div");w.className="basic-info-company";const $=document.createElement("div");$.className="basic-info-data";const B=document.createElement("div");B.className="basic-info-data";const N=document.createElement("div");N.className="basic-info-data";const y=document.querySelector(".surname-data");y.className="basic-info-data";const S=document.querySelector(".basic-info-contact"),P=document.querySelector(".email-customer-data"),Q=document.querySelector(".name-customer-data"),V=document.createElement("label");V.htmlFor="provider-name";V.innerText="Imię";const W=document.createElement("label");W.htmlFor="company-name";W.innerText="Nazwa firmy";m.className="input";m.id="company-name";m.name="company-name";m.type="text";const Z=document.createElement("label");Z.htmlFor="services";Z.innerText="Świadczone usługi";const ae=document.createElement("label");ae.textContent="E-mail";const b=document.createElement("div");b.classList.add("basic-info-data");b.classList.add("email-company-data");let T=!1;const re=()=>{v.checked&&T===!1?(T=!0,g.remove(),P.remove(),Q.remove(),d.id="email-company",d.type="text",d.classList.add("input"),N.append(V,I),y.append(k),j.append(N,y),b.append(ae,d),S.append(b),$.append(W,m),B.append(Z,l),w.append($,B),J.append(j,S,w,x),G(L,u)):h.checked&&(T=!1,d.remove(),b.remove(),N.remove(),y.append(ne,k),j.append(Q,y),P.append(g),S.append(P),J.append(S),w.remove(),x.remove(),G(L,u))},D=n=>{const e=n.target;n.type==="input"?(e.matches("#name, #provider-name, #surname, #number, #email, #email-company, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&e instanceof HTMLInputElement&&q(e),e.matches("#services")&&te(n)):n.type==="change"?e.matches("#company, #user")?re():e.matches("#terms")&&L.contains(u)&&L.removeChild(u):n.type==="keypress"&&e.matches("#phone")&&isNaN(parseInt(n.key))&&n.preventDefault()},z=ce(p,i,te,v),X=z.inputs[0],Y=z.inputs[1],_=z.inputs[2],ee=z.inputs[3];document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",D),document.addEventListener("change",D),document.addEventListener("keypress",D),le(),p!==null&&(p.addEventListener("click",oe),p.addEventListener("click",()=>{const a=document.getElementById("services");if(a!==null){const s=a.options[a.selectedIndex].value;localStorage.setItem("selectedOption",s);const r=a.options[a.selectedIndex].textContent;localStorage.setItem("selectedOptionText",r)}localStorage.getItem("selectedOptionText"),h.checked&&localStorage.setItem("customerName",M.value),v.checked&&(localStorage.setItem("providerName",I.value),localStorage.setItem("companyCity",_.value),localStorage.setItem("companyStreet",X.value),localStorage.setItem("companyHome",Y.value),localStorage.setItem("companyCode",ee.value),localStorage.setItem("companyEmail",d.value)),localStorage.setItem("customerEmail",g.value),localStorage.setItem("registerPassword",E.value)}));const n=[X,Y,_,ee],c=[k,H,E,O,l,m,d,I].concat(n);function o(){v.checked&&c.every(s=>!s.classList.contains("red-input"))&&!m.classList.contains("red-input")&&!l.classList.contains("red-input")&&F.checked&&window.location.assign("./company-panel.html"),console.log(R);const a=R.slice(0,6);console.log(a),h.checked&&a.every(s=>!s.classList.contains("red-input"))&&F.checked&&(console.log("przenosze do customer"),window.location.assign("./customer-panel.html"))}if(p&&p.addEventListener("click",o),h!==null&&v!==null){let a=function(r,t){t.forEach((C,A)=>{C.checked=A===r})};const s=[h,v];a(0,s),s.forEach((r,t)=>{r.addEventListener("click",function(){a(t,s)})})}});
