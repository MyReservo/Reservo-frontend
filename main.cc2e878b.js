import"./calendar.5f976316.js";const b=document.createElement("div");b.className="company-adress";const T=document.createElement("h2");T.className="company-adress-title";T.innerText="Adres pocztowy firmy";const P=document.createElement("div");P.className="company-adress-place";const V=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],W=(t,e,n,s)=>{const c=[];return V.forEach(i=>{const m=document.createElement("div");let a=document.createElement("input");m.className="company-adress-data",a.className="input",a.type="text",a.name=i.name,a.id=i.id,a.placeholder=i.placeholder,a.setAttribute("required","");let L=!1;s!==null&&s.addEventListener("change",()=>{s.checked&&L==!1?(L=!0,a!==void 0&&e(a,!1,i.placeholder)):s.checked&&L==!0}),t.addEventListener("click",U=>{U.preventDefault();let u="";if(a!==void 0)switch(a.id){case"street":u="Podaj nazwę ulicy";break;case"home":u="Podaj numer domu";break;case"city":u="Podaj nazwę miasta";break;case"code":u="Podaj kod pocztowy";break}a!==void 0&&(a.value===""?e(a,!0,u):(console.log("wykonac2"),e(a,!1)))}),m.appendChild(a),P.appendChild(m),(a.id==="home"||a.id==="code")&&a.addEventListener("input",n),c.push(a)}),{inputs:c}};b.append(T,P);const y=document.querySelector("#user"),f=document.querySelector("#company"),I=document.querySelector("#name"),z=document.querySelector("#surname"),C=document.querySelector("#phone"),x=document.querySelector("#email"),E=document.querySelector("#password"),A=document.querySelector("#repeat"),p=document.querySelector("#register"),j=document.querySelector("#terms"),g=document.querySelector(".register-terms"),d=document.createElement("p");d.classList.add("terms-error");const Z=()=>{j.checked||(d.innerHTML="Musisz zaakceptować regulamin",g.appendChild(d))},o=document.createElement("select"),$=()=>{const t=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];o.id="services",o.name="services",o.className="input";const e=o,n=[];return t.forEach(s=>{const c=document.createElement("option");c.value=s.value,c.innerText=s.label,c.id=s.id,o.appendChild(c),c.value==="default"&&(c.disabled=!0),n.push(c)}),[n,e]},F=t=>{const e=t.target;e instanceof HTMLSelectElement?(console.log("usuwam błąd"),e.classList.remove("red-input")):(K(e),console.log("a to??"),e.value=e.value.replace(/[^\d\W]/g,""))},l=(t,e,n)=>{e?(t.setAttribute("placeholder",n??"Musisz podać jakąś wartość"),t.classList.add("red-input"),t.classList.add("red-placeholder")):t.id==="street"||t.id==="home"||t.id==="code"||t.id==="city"?(t.setAttribute("placeholder",n??"Musisz podać wartość"),t.classList.remove("red-input"),t.classList.remove("red-placeholder")):(console.log("teraz ja sie wykonuje"),console.log("a ja nie"),t.removeAttribute("placeholder"),t.classList.remove("red-input"),t.classList.remove("red-placeholder"))},K=t=>{l(t,!1)},G=document.querySelector(".basic-info"),k=document.createElement("div");k.className="basic-info-company";const N=document.createElement("div");N.className="basic-info-data";const q=document.createElement("div");q.className="basic-info-data";const M=document.createElement("label");M.htmlFor="company-name";M.innerText="Nazwa firmy";const r=document.createElement("input");r.className="input";r.id="company-name";r.name="company-name";r.type="text";const H=document.createElement("label");H.htmlFor="services";H.innerText="Świadczone usługi";const J=()=>{const t=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;I.value===""&&l(I,!0,"Podaj imię"),z.value===""&&l(z,!0,"Podaj nazwisko"),t.test(C.value)||l(C,!0,"Podaj numer telefonu"),e.test(x.value)||l(x,!0,"Podaj adres e-mail"),E.value.length<8&&l(E,!0,"Hasło musi zawierać min. 8 znaków"),A.value!==E.value&&l(A,!0,"Hasła muszą być takie same"),r.value===""&&l(r,!0,"Podaj nazwę firmy"),o.value==="default"&&o.classList.add("red-input"),Z()},h=[I,z,C,x,E,A,r,o],Q=(t,e)=>{h.forEach(n=>{n.classList.remove("red-input"),n.classList.remove("red-placeholder"),n.removeAttribute("placeholder")}),t.contains(e)&&t.removeChild(e)};let w=!1;const X=()=>{f.checked&&w===!1?(w=!0,N.append(M,r),q.append(H,o),k.append(N,q),G.append(k,b),Q(g,d)):y.checked&&(w=!1,k.remove(),b.remove())},S=t=>{const e=t.target;t.type==="input"?(e.matches("#name, #surname, #number, #email, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&e instanceof HTMLInputElement&&K(e),e.matches("#services")&&F(t)):t.type==="change"?e.matches("#company, #user")?X():e.matches("#terms")&&(console.log("jest terms"),g.contains(d)&&g.removeChild(d)):t.type==="keypress"&&e.matches("#phone")&&isNaN(parseInt(t.key))&&t.preventDefault()},v=W(p,l,F,f),O=v.inputs[0],D=v.inputs[1],R=v.inputs[2],B=v.inputs[3];console.log(v);document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",S),document.addEventListener("change",S),document.addEventListener("keypress",S),$(),p!==null&&(p.addEventListener("click",J),p.addEventListener("click",()=>{const e=document.getElementById("services");if(e!==null){const n=e.options[e.selectedIndex].value;localStorage.setItem("selectedOption",n);const s=e.options[e.selectedIndex].textContent;localStorage.setItem("selectedOptionText",s)}localStorage.setItem("name",I.value),localStorage.getItem("selectedOptionText"),localStorage.setItem("companyStreet",O.value),localStorage.setItem("companyHome",D.value),localStorage.setItem("companyCity",R.value),localStorage.setItem("companyCode",B.value)}));function t(){h.push(O,D,R,B),f.checked&&h.every(e=>!e.classList.contains("red-input"))&&!r.classList.contains("red-input")&&!o.classList.contains("red-input")&&j.checked&&window.location.assign("./company-panel.html"),h.splice(5,6),y.checked&&h.every(e=>!e.classList.contains("red-input"))&&j.checked&&window.location.assign("./calendar.html")}if(p.addEventListener("click",t),y!==null&&f!==null){let e=function(s,c){c.forEach((i,m)=>{i.checked=m===s})};const n=[y,f];e(0,n),n.forEach((s,c)=>{s.addEventListener("click",function(){e(c,n)})})}});
