import"./calendar.9486abdb.js";const x=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],h=document.createElement("div");h.className="company-adress";const z=document.createElement("h2");z.className="company-adress-title";z.innerText="Adres pocztowy firmy";const I=document.createElement("div");I.className="company-adress-place";const M=(e,t,s,m)=>{x.forEach(d=>{const c=document.createElement("div");c.className="company-adress-data";let a=document.createElement("input");a.className="input",a.type="text",a.name=d.name,a.id=d.id,a.placeholder=d.placeholder,m.addEventListener("change",()=>{m.checked&&t(a,!1,d.placeholder)}),e.addEventListener("click",()=>{let i="";switch(a.id){case"street":i="Podaj nazwę ulicy";break;case"home":i="Podaj numer domu";break;case"city":i="Podaj nazwę miasta";break;case"code":i="Podaj kod pocztowy";break}a.value===""?t(a,!0,i):t(a,!1)}),c.appendChild(a),I.appendChild(c),(a.id==="home"||a.id==="code")&&a.addEventListener("input",s)})};h.append(z,I);const H=document.getElementById("form");H.addEventListener("submit",function(e){e.preventDefault();const t=Array.from(document.querySelectorAll("#services option:checked")).map(c=>c.getAttribute("value")),s=new URLSearchParams;s.set("services",t.join(","));const m={method:"GET",mode:"cors"},d=`http://srv17.mikr.us:20193/reservo/professions?${s.toString()}`;fetch(d,m).then(c=>c.text()).then(c=>console.log(c)).catch(c=>console.log(c))});const j=document.querySelector("#user"),w=document.querySelector("#company"),f=document.querySelector("#name"),y=document.querySelector("#surname"),E=document.querySelector("#phone"),b=document.querySelector("#email"),u=document.querySelector("#password"),k=document.querySelector("#repeat"),q=document.querySelector("#register"),D=document.querySelector("#terms"),v=document.querySelector(".register-terms"),l=document.createElement("p");l.classList.add("terms-error");const B=()=>{D.checked||(l.innerHTML="Musisz zaakceptować regulamin",v.appendChild(l))},C=[j,w];function F(){C.forEach(e=>{e!==this?e.checked=!1:e.checked=!0})}C.forEach(e=>{e.addEventListener("click",function(){F.call(this)})});const R=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}],o=document.createElement("select");o.id="services";o.name="services";o.className="input";R.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.innerText=e.label,t.id=e.id,o.appendChild(t),t.value==="default"&&(t.disabled=!0)});const P=e=>{const t=e.target;t instanceof HTMLSelectElement?t.classList.remove("red-input"):(T(t),t.value=t.value.replace(/[^\d\W]/g,""))},n=(e,t,s)=>{t?(e.setAttribute("placeholder",s??"Musisz podać jakąś wartość"),e.classList.add("red-input"),e.classList.add("red-placeholder")):e.id==="street"||e.id==="home"||e.id==="code"||e.id==="city"?(e.setAttribute("placeholder",s??"Musisz podać wartość"),e.classList.remove("red-input"),e.classList.remove("red-placeholder")):(e.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"))},T=e=>{n(e,!1)},U=document.querySelector(".basic-info"),p=document.createElement("div");p.className="basic-info-company";const L=document.createElement("div");L.className="basic-info-data";const g=document.createElement("div");g.className="basic-info-data";const A=document.createElement("label");A.htmlFor="company-name";A.innerText="Nazwa firmy";const r=document.createElement("input");r.className="input";r.id="company-name";r.name="company-name";r.type="text";const S=document.createElement("label");S.htmlFor="services";S.innerText="Świadczone usługi";const $=()=>{const e=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;f.value===""&&n(f,!0,"Podaj imię"),y.value===""&&n(y,!0,"Podaj nazwisko"),e.test(E.value)||n(E,!0,"Podaj numer telefonu"),t.test(b.value)||n(b,!0,"Podaj adres e-mail"),u.value.length<8&&n(u,!0,"Hasło musi zawierać min. 8 znaków"),k.value!==u.value&&n(k,!0,"Hasła muszą być takie same"),r.value===""&&n(r,!0,"Podaj nazwę firmy"),o.value==="default"&&o.classList.add("red-input"),B()};M(q,n,P,w);const K=[f,y,E,b,u,k,r,o],W=(e,t)=>{K.forEach(s=>{s.classList.remove("red-input"),s.classList.remove("red-placeholder"),s.removeAttribute("placeholder")}),e.contains(t)&&e.removeChild(t)},Z=()=>{w.checked?(L.append(A,r),g.append(S,o),p.append(L,g),U.append(p,h),W(v,l)):j.checked&&(p.remove(),h.remove())},N=e=>{const t=e.target;e.type==="input"?(t.matches("#name, #surname, #number, #email, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&t instanceof HTMLInputElement&&T(t),t.matches("#services")&&(console.log("jest services2"),P(e))):e.type==="change"?t.matches("#company, #user")?Z():t.matches("#terms")&&(console.log("jest terms"),v.contains(l)&&v.removeChild(l)):e.type==="keypress"&&t.matches("#phone")&&isNaN(parseInt(e.key))&&e.preventDefault()};document.addEventListener("input",N);document.addEventListener("change",N);document.addEventListener("keypress",N);q.addEventListener("click",$);
