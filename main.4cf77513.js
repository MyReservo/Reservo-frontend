import"./companyPanel.77f65c9c.js";const I=document.createElement("div");I.className="company-adress-login";const T=document.createElement("h2");T.className="company-adress-title";T.innerText="Adres pocztowy firmy";const M=document.createElement("div");M.className="company-adress-place";const V=[{id:"street",placeholder:"Ulica",name:"street"},{id:"home",placeholder:"Nr.domu",name:"home"},{id:"city",placeholder:"Miasto",name:"city"},{id:"code",placeholder:"Kod pocztowy",name:"code"}],W=(e,t,c,n)=>{const s=[];return V.forEach(o=>{const d=document.createElement("div");let a=document.createElement("input");d.className="company-adress-data",a.className="input",a.type="text",a.name=o.name,a.id=o.id,a.placeholder=o.placeholder,a.setAttribute("required","");let y=!1;n!==null&&n.addEventListener("change",()=>{n.checked&&y==!1?(a.classList.remove("red-input"),a.classList.remove("red-placeholder"),a.removeAttribute("placeholder"),a!==void 0&&t(a,!1,o.placeholder)):n.checked&&y==!0}),e.addEventListener("click",U=>{U.preventDefault();let u="";if(a!==void 0)switch(a.id){case"street":u="Podaj nazwę ulicy";break;case"home":u="Podaj numer domu";break;case"city":u="Podaj nazwę miasta";break;case"code":u="Podaj kod pocztowy";break}a!==void 0&&(a.value===""?t(a,!0,u):t(a,!1)),!/^\d{2}-\d{3}$/.test(a.value)&&a.id==="code"&&t(a,!0,"Podaj kod pocztowy")}),d.appendChild(a),M.appendChild(d),(a.id==="home"||a.id==="code")&&a.addEventListener("input",c),s.push(a)}),{inputs:s}};I.append(T,M);const E=document.querySelector("#user"),v=document.querySelector("#company"),b=document.querySelector("#name"),z=document.querySelector("#surname"),A=document.querySelector("#phone"),L=document.querySelector("#email"),h=document.querySelector("#password"),C=document.querySelector("#repeat"),p=document.querySelector("#register"),x=document.querySelector("#terms"),f=document.querySelector(".register-terms"),m=document.createElement("p");m.classList.add("terms-error");const Z=()=>{x.checked||(m.innerHTML="Musisz zaakceptować regulamin",f.appendChild(m))},l=document.createElement("select"),G=()=>{const e=[{value:"default",label:"Wybierz usługę",id:"default"},{value:"TUTOR",label:"Korepetycje",id:"tutor"},{value:"BARBER",label:"Fryzjer",id:"barber"},{value:"MECHANIC",label:"Mechanik",id:"mechanic"}];l.id="services",l.name="services",l.className="input";const t=l,c=[];return e.forEach(n=>{const s=document.createElement("option");s.value=n.value,s.innerText=n.label,s.id=n.id,l.appendChild(s),s.value==="default"&&(s.disabled=!0),c.push(s)}),[c,t]},K=e=>{const t=e.target;t instanceof HTMLSelectElement?t.classList.remove("red-input"):/^\d{2}-\d{3}$/.test(t.value)?(N(t),t.value=t.value.replace(/[^\d\W]/g,"")):(N(t),t.value=t.value.replace(/[^\d-]/g,""))},r=(e,t,c)=>{t?(e.setAttribute("placeholder",c??"Musisz podać jakąś wartość"),e.classList.add("red-input"),e.classList.add("red-placeholder")):e.id==="street"||e.id==="home"||e.id==="code"||e.id==="city"?(e.setAttribute("placeholder",c??"Musisz podać wartość"),e.classList.remove("red-input"),e.classList.remove("red-placeholder")):(e.removeAttribute("placeholder"),e.classList.remove("red-input"),e.classList.remove("red-placeholder"))},N=e=>{r(e,!1)},J=document.querySelector(".basic-info"),k=document.createElement("div");k.className="basic-info-company";const j=document.createElement("div");j.className="basic-info-data";const q=document.createElement("div");q.className="basic-info-data";const H=document.createElement("label");H.htmlFor="company-name";H.innerText="Nazwa firmy";const i=document.createElement("input");i.className="input";i.id="company-name";i.name="company-name";i.type="text";const O=document.createElement("label");O.htmlFor="services";O.innerText="Świadczone usługi";const Q=()=>{const e=/^(?:\(?\?)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/;b.value===""&&r(b,!0,"Podaj imię"),z.value===""&&r(z,!0,"Podaj nazwisko"),e.test(A.value)||r(A,!0,"Podaj numer telefonu"),t.test(L.value)||r(L,!0,"Podaj adres e-mail"),h.value.length<8&&r(h,!0,"Hasło musi zawierać min. 8 znaków"),C.value!==h.value&&r(C,!0,"Hasła muszą być takie same"),i.value===""&&r(i,!0,"Podaj nazwę firmy"),l.value==="default"&&l.classList.add("red-input"),Z()},P=[b,z,A,L,h,C,l,i],D=(e,t)=>{P.forEach(c=>{c.classList.remove("red-input"),c.classList.remove("red-placeholder"),c.removeAttribute("placeholder")}),e.contains(t)&&e.removeChild(t)};let w=!1;const X=()=>{v.checked&&w===!1?(w=!0,j.append(H,i),q.append(O,l),k.append(j,q),J.append(k,I),D(f,m)):E.checked&&(w=!1,k.remove(),I.remove(),D(f,m))},S=e=>{const t=e.target;e.type==="input"?(t.matches("#name, #surname, #number, #email, #company-name, #password, #repeat, #phone, #city,#code,#home,#street")&&t instanceof HTMLInputElement&&N(t),t.matches("#services")&&K(e)):e.type==="change"?t.matches("#company, #user")?X():t.matches("#terms")&&f.contains(m)&&f.removeChild(m):e.type==="keypress"&&t.matches("#phone")&&isNaN(parseInt(e.key))&&e.preventDefault()},g=W(p,r,K,v),R=g.inputs[0],B=g.inputs[1],F=g.inputs[2],$=g.inputs[3];document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",S),document.addEventListener("change",S),document.addEventListener("keypress",S),G(),p!==null&&(p.addEventListener("click",Q),p.addEventListener("click",()=>{console.log(L.value);const n=document.getElementById("services");if(n!==null){const s=n.options[n.selectedIndex].value;localStorage.setItem("selectedOption",s);const o=n.options[n.selectedIndex].textContent;localStorage.setItem("selectedOptionText",o)}localStorage.setItem("name",b.value),localStorage.getItem("selectedOptionText"),localStorage.setItem("companyStreet",R.value),localStorage.setItem("companyHome",B.value),localStorage.setItem("companyCity",F.value),localStorage.setItem("companyCode",$.value),localStorage.setItem("registerPassword",h.value)}));const e=[R,B,F,$],t=P.concat(e);function c(){v.checked&&t.every(s=>!s.classList.contains("red-input"))&&!i.classList.contains("red-input")&&!l.classList.contains("red-input")&&x.checked&&window.location.assign("./company-panel.html");const n=P.slice(0,6);E.checked&&n.every(s=>!s.classList.contains("red-input"))&&x.checked&&window.location.assign("./customer-panel.html")}if(p.addEventListener("click",c),E!==null&&v!==null){let n=function(o,d){d.forEach((a,y)=>{a.checked=y===o})};const s=[E,v];n(0,s),s.forEach((o,d)=>{o.addEventListener("click",function(){n(d,s)})})}});
